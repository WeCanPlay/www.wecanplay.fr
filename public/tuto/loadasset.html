<?php
    $title = 'Use Assets';
    $base_url = '../';
    $page = 'documentation';
    require('../header.php');
?>

<div class="container">
    <div class="jumbotron subhead">
        <h1>Use Assets</h1>
    </div>

    <div class="row">
        <div class="span3">
        <div class="well sidebar-nav">
            <ul class="nav nav-list">
                <li><a href="/tuto/intro.html">Introduction</a></li>
<li><a href="/tuto/basichtml.html">Html Structure</a></li>
<li><a href="/tuto/initialise.html">Initialise WCP</a></li>
<li><a href="/tuto/firstview.html">Create our first view</a></li>
<li><a href="/tuto/loadasset.html">Use Assets</a></li>
<li><a href="/tuto/handleevenent.html">event</a></li>
<li><a href="/tuto/movethesnake.html">asdas</a></li>
<li><a href="/tuto/controletime.html">Controle the time</a></li>
<li><a href="/tuto/eatgrow.html">Eat & grow</a></li>
<li><a href="/tuto/finish.html">finish</a></li>
            </ul>
            </div><!--/.well -->
        </div><!--/span-->
        <div class="span8 well doc">
            <h2>Load Assets</h2>
<p>Before move the snake, we must see it and we need to see the apple in order to eat it.
For make it very simple, we ll use one image of apple, one sound when the snake eat and the snake will be drawn

</p>
<p>Before load asset, we need to add.

</p>
<pre><code class="lang-JavaScript">WCP.Assets.add({
    path: &#39;ressources/&#39;,
    assets: {
        &#39;apple&#39; : &#39;apple.png&#39;,
        &#39;bg&#39; : &#39;background.png&#39;,
        &#39;crunch&#39;   : [&#39;apple-crunch.mp3&#39;, &#39;apple-crunch.ogg&#39;]
}});</code></pre>
<p>To print the snake and the apple on the screen, we need their positions.
We create two variables for this.

</p>
<pre><code class="lang-JavaScript">var snake;
var apple;</code></pre>
<p>We initialise with a random position these variables in the init function of the view.

</p>
<pre><code class="lang-JavaScript">snake = {x: 50, y: 50};
apple = {x: 100, y: 100};</code></pre>
<p>To create a sprite with WeCanPlay, we need to know which size we want that the sprite is.
We set a variable for this, and will use it for create each sprite.
We also create a variable for each sprite.

</p>
<pre><code class="lang-JavaScript">var size;
var head;
var body;
var apple;</code></pre>
<p>And the initialisation.

</p>
<pre><code class="lang-JavaScript">head = new WCP.Draw.Rect(snake.x, snake.y, size, size, {fillStyle: &quot;green&quot;});
body = new WCP.Draw.Rect(apple.x, apple.y, size, size, {fillStyle: &quot;red&quot;});
apple = new WCP.Sprite(WCP.Assets.get(&#39;apple&#39;), apple.x, apple.y);</code></pre>
<p>We call the function position() of each Sprite to place them, and then we call the draw() function of each one to draw them.

</p>
<pre><code class="lang-JavaScript">headSprite.position(snake.x, snake.y);
headSprite.draw();
appleSprite.position(apple.x, apple.y);
appleSprite.draw();</code></pre>
<p>By the end of this step, you must have this code:

</p>
<pre><code class="lang-Html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Snake&lt;/title&gt;
        &lt;style&gt;
            #canvas {
                border : 1px solid black;
            }
        &lt;/style&gt;
        &lt;script src=&#39;WCP-0.3.js&#39; type=&#39;text/javascript&#39;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
            CANVAS_WIDTH = 200;
            CANVAS_HEIGHT = 200;
            WCP.setCanvas(&#39;canvas&#39;, CANVAS_WIDTH, CANVAS_HEIGHT);
            var snake;
            var apple;
            var size;
                        var headSprite;
                        var bodySprite;
                        var appleSprite;
                        WCP.Assets.add({
                            path: &#39;ressources/&#39;,
                            assets: {
                                &#39;head&#39;  : &#39;head.png&#39;,
                                &#39;body&#39;  : &#39;body.png&#39;,
                                &#39;apple&#39; : &#39;apple.png&#39;,
                            }
                        });
                        WCP.Assets.load();
            var game = {
                init: function () {
                    snake = {x: 50, y: 50};
                    apple = {x: 100, y: 100};
                    size = 10;
                                        headSprite = new WCP.SliceSprite(WCP.Assets.get(&#39;head&#39;), snake.x, snake.y, size, size);
                                        appleSprite = new WCP.SliceSprite(WCP.Assets.get(&#39;apple&#39;), snake.x, snake.y, size, size);
                },
                loop: function () {
                },
                draw: function () {
                    WCP.clear();
                                        headSprite.position(snake.x, snake.y);
                                        headSprite.draw();
                                        appleSprite.position(apple.x, apple.y);
                                        appleSprite.draw();
                },
                destroy: function () {
                }
            };
            var gameView = new WCP.View(game);
            gameView.start();
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>

        </div>
    </div>
    <hr class="soften">
    <footer>
        <p>EIP - WeCanPlay  2012</p>
    </footer>
</div> <!-- /container -->
<?php
    require('../footer.php');
?>
